<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>GraphQL Ruby - Schema — Configuration Options</title>
    <link rel="stylesheet" href="/graphql-ruby/css/main.css">
    <link rel="icon" href="/graphql-ruby/graphql-ruby-icon.png">
    <meta name="generator">
  </head>
  <body class="hack">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-19264608-11', 'auto');
      ga('send', 'pageview');
    </script>
    <div class="container">
      <div style="display: flex; justify-content: center;">
<strong style="white-space: pre; line-height: 1.1em; display: inline-block; font-size: 8px;">
    ▄██████▄     ▄████████    ▄████████    ▄███████▄    ▄█    █▄    ████████▄    ▄█
   ███    ███   ███    ███   ███    ███   ███    ███   ███    ███   ███    ███  ███
   ███    █▀    ███    ███   ███    ███   ███    ███   ███    ███   ███    ███  ███
  ▄███         ▄███▄▄▄▄██▀   ███    ███   ███    ███  ▄███▄▄▄▄███▄▄ ███    ███  ███
 ▀▀███ ████▄  ▀▀███▀▀▀▀▀   ▀███████████ ▀█████████▀  ▀▀███▀▀▀▀███▀  ███    ███  ███
   ███    ███ ▀███████████   ███    ███   ███          ███    ███   ███    ███  ███
   ███    ███   ███    ███   ███    ███   ███          ███    ███   ███  ▀ ███  ███▌    ▄
   ████████▀    ███    ███   ███    █▀   ▄████▀        ███    █▀     ▀██████▀▄█ █████▄▄██
                ███    ███                                                      ▀
</strong>
      </div>
      <p style="text-align: center;">A GraphQL server implementation for Ruby</p>

      <div class="grid -between">
        <div class="cell -3of12">
          <h3>Guides</h3>
          <ul>
            <li><a href="/graphql-ruby/">Getting Started</a></li>
            <li>
              <strong>Schema</strong>
              <ul>
                <li><a href="/graphql-ruby/schema/types_and_fields">Types and Fields</a></li>
                <li><a href="/graphql-ruby/schema/configuration_options">Configuration Options</a></li>
                <li><a href="/graphql-ruby/schema/code_reuse">Code Reuse</a></li>
                <li><a href="/graphql-ruby/schema/instrumentation">Instrumentation</a></li>
                <li><a href="/graphql-ruby/schema/lazy_execution">Lazy Execution</a></li>
                <li><a href="/graphql-ruby/schema/limiting_visibility">Limiting Visibility</a></li>
                <li><a href="/graphql-ruby/schema/testing">Testing</a></li>
              </ul>
            </li>
            <li>
              <strong>Queries</strong>
              <ul>
                <li><a href="/graphql-ruby/queries/executing_queries">Executing Queries</a></li>
                <li><a href="/graphql-ruby/queries/authorization">Authorization</a></li>
                <li><a href="/graphql-ruby/queries/security">Security</a></li>
                <li><a href="/graphql-ruby/queries/error_handling">Error Handling</a></li>
                <li><a href="/graphql-ruby/queries/phases_of_execution">Phases of Execution</a></li>
              </ul>
            </li>
            <li>
              <strong>Relay</strong>
              <ul>
                <li><a href="/graphql-ruby/relay/object_identification">Object Identification</a></li>
                <li><a href="/graphql-ruby/relay/connections">Connections</a></li>
                <li><a href="/graphql-ruby/relay/mutations">Mutations</a></li>
              </ul>
            </li>
            <li>
              <strong>GraphQL::Pro</strong>
              <ul>
                <li><a href="http://graphql.pro">GraphQL::Pro Home</a></li>
                <li><a href="/graphql-ruby/pro/installation">Installation & Updates</a></li>
                <li><a href="/graphql-ruby/pro/authorization">Authorization</a></li>
                <li><a href="/graphql-ruby/pro/monitoring">Monitoring</a></li>
                <li><a href="/graphql-ruby/pro/cursors">Stable Cursors<br/>for ActiveRecord</a></li>
                <li><a href="/graphql-ruby/pro/encoders">Encrypted, Versioned<br/>Cursors and Ids</a></li>
              </ul>
            </li>
            <li><a href="/graphql-ruby/related_projects">Related Projects</a></li>
          </ul>
          <h3><a href="https://tinyletter.com/graphql-ruby">GraphQL Ruby Newsletter</a></h3>
          <h3><a href="http://www.rubydoc.info/github/rmosolgo/graphql-ruby">API Docs</a></h3>
          <h3><a href="https://github.com/rmosolgo/graphql-ruby">Source Code</a></h3>
        </div>
        <div class="cell -9of12">
          <h1 class="guide-header">Schema — Configuration Options</h1>
          <p>Many things can be added to a GraphQL schema. They fall into a few categories:</p>

<ul>
  <li>Data entry points: <code>query</code>, <code>mutation</code>, <code>subscription</code></li>
  <li>Manually adding types: <code>orphan_types</code></li>
  <li>Execution functions: <code>resolve_type</code>, <code>id_from_object</code>, <code>object_from_id</code></li>
  <li>Type error handling: <code>type_error</code></li>
  <li>Security options: <code>max_depth</code>, <code>max_complexity</code></li>
  <li>Middleware: <code>middleware</code></li>
  <li>Query analyzers: <code>query_analyzer</code></li>
  <li>Execution strategies: <code>query_execution_strategy</code>, <code>mutation_execution_strategy</code>, <code>subscription_execution_strategy</code></li>
</ul>

<h2 id="data-entry-points">Data Entry Points</h2>

<p><code>query</code>, <code>mutation</code> and <code>subscriptions</code> are <a href="http://graphql.org/learn/schema/#the-query-and-mutation-types">root-level</a> <code>GraphQL::ObjectType</code>s.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">QueryType</span> = <span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">ObjectType</span>.define { ... }
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span><span style="color:#036;font-weight:bold">MutationType</span> = <span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">ObjectType</span>.define { ... }
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#036;font-weight:bold">SubscriptionType</span> = <span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">ObjectType</span>.define { ... }
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#777"># required</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  query <span style="color:#036;font-weight:bold">QueryType</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#777"># optional</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  mutation <span style="color:#036;font-weight:bold">MutationType</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>  subscription <span style="color:#036;font-weight:bold">SubscriptionType</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h2 id="orphan-types">Orphan Types</h2>

<p>The schema builds its type system by traversing its data entry points. In some cases, types should be present in the schema but aren’t available via traversal, so you have to add them yourself.</p>

<p>The clearest case of this is when a type implements an interface, but isn’t a return type of any other field. Since it’s not the return type of a field, it might not be found by traversal, so you can add it in <code>orphan_types</code>:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#777"># ...</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  <span style="color:#777"># Make sure these types are present in the schema:</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  orphan_types [<span style="color:#036;font-weight:bold">AudioType</span>, <span style="color:#036;font-weight:bold">VideoType</span>, <span style="color:#036;font-weight:bold">ImageType</span>]
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>It’s OK to add a type to <code>orphan_types</code> even if it’s already in the schema.</p>

<h2 id="execution-functions">Execution Functions</h2>

<p>During execution, a GraphQL schema may need help from you, which you can provide in these hooks:</p>

<ul>
  <li><code>resolve_type(obj, ctx)</code>: When we have a member of an interface or union, which object type should we use?</li>
  <li><code>id_from_object(object, type, ctx)</code> (Relay only): Generate a unique ID for <code>object</code></li>
  <li><code>object_from_id(id, ctx)</code> (Relay only): Given a unique ID <code>id</code>, return the object which it identifies</li>
</ul>

<p>These hooks are provided as objects that respond to <code>#call</code>, for example, a <code>Proc</code> literal:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#777"># Hooks for query execution:</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  resolve_type -&gt;(obj, ctx) { ... }
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  id_from_object -&gt;(obj, type, ctx) { ... }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>  object_from_id -&gt;(id, ctx) { ... }
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>See <a href="/graphql-ruby/relay/object_identification">“Object Identification”</a> for more information about Relay IDs.</p>

<h2 id="type-error-handling">Type Error Handling</h2>

<p>In some cases, runtime data can cause GraphQL execution to reach an invalid state:</p>

<ul>
  <li>A <code>resolve</code> function returned <code>nil</code> for a non-null type</li>
  <li>A <code>resolve</code> function’s value couldn’t be resolved to a valid Union or Interface member (<a href="http://www.rubydoc.info/gems/graphql/Schema#resolve_type-instance_method" target="_blank"><code>Schema#resolve_type</code></a> returned an unexpected value)</li>
</ul>

<p>You can specify behavior in these cases by defining a <a href="http://www.rubydoc.info/gems/graphql/Schema#type_error-instance_method" target="_blank"><code>Schema#type_error</code></a> hook:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">MySchema</span> = <span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  type_error -&gt;(type_error, query_ctx) {
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#777"># Handle a failed runtime type coercion</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>It is called with an instance of <a href="http://www.rubydoc.info/gems/graphql/GraphQL/UnresolvedTypeError" target="_blank"><code>GraphQL::UnresolvedTypeError</code></a> or <a href="http://www.rubydoc.info/gems/graphql/GraphQL/InvalidNullError" target="_blank"><code>GraphQL::InvalidNullError</code></a> and the query context (a <a href="http://www.rubydoc.info/gems/graphql/GraphQL/Query/Context" target="_blank"><code>GraphQL::Query::Context</code></a>).</p>

<p>If you don’t specify a hook, you get the default behavior:</p>

<ul>
  <li>Unexpected <code>nil</code>s add an error the response’s <code>"errors"</code> key</li>
  <li>Unresolved Union / Interface types raise <a href="http://www.rubydoc.info/gems/graphql/GraphQL/UnresolvedTypeError" target="_blank"><code>GraphQL::UnresolvedTypeError</code></a></li>
</ul>

<p>An object that fails type resolution is treated as <code>nil</code>.</p>

<h2 id="security-options">Security Options</h2>

<p>These options can prevent execution of malicious queries.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#777"># Prevent excessively deep or complex queries</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  max_depth <span style="color:#00D">8</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  max_complexity <span style="color:#00D">120</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>See <a href="/graphql-ruby/queries/security">“Security”</a> for more information.</p>

<h2 id="middleware">Middleware</h2>

<p>You can use <em>middleware</em> to affect the evaluation of fields in your schema. They function like <code>before_action</code>s and <code>after_action</code>s in Rails controllers.</p>

<p>A middleware is any object that responds to <code>#call(*args)</code>. Inside that method, it should either:</p>

<ul>
  <li><code>yield</code> to continue the evaluation; or</li>
  <li>return a value to end the evaluation early.</li>
</ul>

<p>Middlewares’ <code>#call</code> is invoked with several arguments:</p>

<ul>
  <li><code>parent_type</code> is the type whose field is being accessed</li>
  <li><code>parent_object</code> is the object being exposed by that type</li>
  <li><code>field_definition</code> is the definition for the field being accessed</li>
  <li><code>field_args</code> is the hash of arguments passed to the field</li>
  <li><code>query_context</code> is the context object passed throughout the query</li>
</ul>

<p>Add a middleware to a schema by calling <code>middleware</code> in <code>Schema::define</code>:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  middleware <span style="color:#036;font-weight:bold">MyMiddleware</span>.new
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h3 id="example-authorization">Example: Authorization</h3>

<p>This middleware only continues evaluation if the <code>current_user</code> is permitted to read the target object:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">AuthorizationMiddleware</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">call</span>(parent_type, parent_object, field_definition, field_args, query_context)
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    current_user = query_context[<span style="color:#A60">:current_user</span>] <span style="color:#777"># passed in when creating the query</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#080;font-weight:bold">if</span> current_user &amp;&amp; current_user.can_read?(parent_object)
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>      <span style="color:#777"># This user is authorized, so continue execution</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>      <span style="color:#080;font-weight:bold">yield</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#080;font-weight:bold">else</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>      <span style="color:#777"># Silently halt execution</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>      <span style="color:#069">nil</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>Then, add the middleware to your schema:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  middleware <span style="color:#036;font-weight:bold">AuthorizationMiddleware</span>.new
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>Now, all field access will be wrapped by that authorization routine.</p>

<h2 id="query-analyzers">Query Analyzers</h2>

<p>Query analyzers are like middleware for the validation phase. They’re called at each node of the query’s internal representation (see <code>GraphQL::InternalRepresentation::Node</code>). If they return a <code>GraphQL::AnalysisError</code> (or an array of those errors), the query won’t be run and the error will be added to the response’s <code>errors</code> key.</p>

<p>The minimal API is <code>.call(memo, visit_type, internal_representation_node)</code>. For example:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>ast_node_logger = -&gt;(memo, visit_type, internal_representation_node) {
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">if</span> visit_type == <span style="color:#A60">:enter</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Visiting </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>internal_representation_node.name<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">!</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>}
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#036;font-weight:bold">MySchema</span>.query_analyzers &lt;&lt; ast_node_logger
</pre></div>
</div>
</div>

<p>Whatever <code>.call(...)</code> returns will be passed as <code>memo</code> for the next visit.</p>

<p>The analyzer can implement a few <strong>other methods</strong>. If they’re present, they’ll be called:</p>

<ul>
  <li><code>.initial_value(query)</code> will be called to generate an initial value for <code>memo</code></li>
  <li><code>.final_value(memo)</code> will be called <em>after</em> visiting the the query</li>
</ul>

<p>If the last value of <code>memo</code> (or the return of <code>.final_value</code>) is a <code>GraphQL::AnalysisError</code>, the query won’t be executed and the error will be added to the <code>errors</code> key of the response.</p>

<p><code>graphql-ruby</code> includes a few query analyzers:</p>

<ul>
  <li><code>GraphQL::Analysis::QueryDepth</code> and <code>GraphQL::Analysis::QueryComplexity</code> for inspecting query depth and complexity</li>
  <li><code>GraphQL::Analysis::MaxQueryDepth</code> and <code>GraphQL::Analysis::MaxQueryComplexity</code> are used internally to implement <code>max_depth:</code> and <code>max_complexity:</code> options</li>
</ul>

<h2 id="execution-strategies">Execution Strategies</h2>

<p><code>graphql</code> includes a serial execution strategy, but you can also create custom strategies to support advanced behavior. See <code>GraphQL::SerialExecution#execute</code> the required behavior.</p>

<p>Then, set your schema to use your custom execution strategy with <code>GraphQL::Schema#{query|mutation|subscription}_execution_strategy</code></p>

<p>For example:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">CustomQueryExecutionStrategy</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#777"># ...</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">execute</span>(operation_name, root_type, query)
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#777"># ...</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#777"># ... define your types ...</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#036;font-weight:bold">MySchema</span> = <span style="color:#036;font-weight:bold">GraphQL</span>::<span style="color:#036;font-weight:bold">Schema</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  query <span style="color:#036;font-weight:bold">MyQueryType</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>  mutation <span style="color:#036;font-weight:bold">MyMutationType</span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>  <span style="color:#777"># Use your custom strategy:</span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>  query_execution_strategy <span style="color:#036;font-weight:bold">CustomQueryExecutionStrategy</span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

        </div>
      </div>
    </div>
    <script>
      // Find headers with IDs and wrap their text in `<a href=></a>`
      // That way people can easily copy the link.
      var headers = document.querySelectorAll("h1, h2, h3, h4, h5");
      var header, idText, headerLink;
      for (var i = 0; i < headers.length; i++) {
        header = headers[i];
        idText = header.id;
        if (idText) {
          headerLink = document.createElement("a");
          headerLink.href = "#" + idText;
          headerLink.textContent = header.textContent;
          header.textContent = "";
          header.appendChild(headerLink);
        }
      }
    </script>
  </body>
</html>
